# Taigi-TPS 台語方音輸入法

> 配方： **℞ yuren-tw/rime-taigi-tps**

1. 本方案基於 RIME 輸入法引擎
2. 方案配置檔：`taigi_tps.schema.yaml`
3. 字典檔：（詳見[下方說明](#台語字典)）
    - `taigi_yu.dict.yaml`
    - `taigi_yu.han.dict.yaml`
    - `taigi_yu.tl.dict.yaml`（暫定）
    - `taigi_yu.poj.dict.yaml`（暫定）

## 鍵盤配置

本方案以大千式注音符號為基礎，適合熟悉注音輸入法的使用者。
（與大千式配置不同的符號在下圖以紅色粗體字表示）

![](./keyboard_layout.png)

| 配置差異   | <kbd>Z | <kbd>T | <kbd>G | <kbd>B | <kbd>I | <kbd>, | <kbd>O | <kbd>. | <kbd>M | <kbd>/ | <kbd>- | <kbd>5 | <kbd>7 |
|:---------:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
| **大千式** | ㄈ |  ㄔ  | ㄕ | ㄖ | ㄛ | ㄝ | ㄟ | ㄡ | ㄩ | ㄥ |  ㄦ  |  ㄓ  | 輕聲 |
| **本方案** | ㆠ | ㆢㆡ | ㄫ | ㆣ | ㆦ | ㆤ | ㆰ | ㆲ | ㆬ | ㆭ | 鼻音 | ７聲 | 入聲 |


## 輸入方式與功能

本方案採用台語方音符號來輸入，基本輸入順序與注音輸入法的「聲母 + 韻母 + 聲調」類似。

> [方音符號](https://zh.wikipedia.org/wiki/臺灣方音符號)是以[注音符號](https://zh.wikipedia.org/wiki/注音符號)為基礎來擴充的一種標音符號，主要用於標註台灣話。

- 台語的拼音組合參考：[拼音對照表](./table.md)
- 方音符號區分 `ㄐ`、`ㄑ`、`ㄒ`、`ㆢ` 與 `ㄗ`、`ㄘ`、`ㄙ`、`ㆡ`，熟悉台羅、白話字的使用者請多注意
  - 本方案中，`ㆢ` 與 `ㆡ` 合併在同一個鍵位
- 方言特有結合韻母能拆開輸出，方便新手使用
  - `ㆰ`：以 `ㆰ` 或 `ㄚㆬ` 來輸入
  - `ㆱ`：較為罕見，以 `ㆦㆬ` 或 `ㆰ` 來輸入
  - `ㆲ`：以 `ㆲ` 或 `ㆦㆭ` 來輸入
- 鼻化韻母的輸入方式為「韻母 + 鼻音鍵 `ｎ`」：例如以 `ㄚｎ` 來輸入 `ㆩ`
- 入聲調輸入方式有兩種：（本方案輸入時不區分第四調與第八調）
  - 結合韻母 + 入聲鍵 `．`：與前方韻母結合，較接近傳統韻書習慣，且減少按鍵數
    - 純母音：例如以 `ㄚ．` 來輸入 `ㄚㆷ`
    - ㆬ韻尾：例如以 `ㆰ．` 來輸入 `ㄚㆴ`
    - ㄯ韻尾：例如以 `ㄢ．` 來輸入 `ㄚㆵ`
    - ㆭ韻尾：例如以 `ㄤ．` 來輸入 `ㄚㆻ`
    - `ㆬ`、`ㆭ`：例如以 `ㆬ．` 來輸入 `ㆬㆷ`
    - 韻母與入聲韻的對應關係詳見[拼音對照表](./table.md)
  - 對應聲母 + 入聲鍵 `．`：方便新手使用，只適用 `ㆴ`、`ㆵ`、`ㆻ`
    - 例如以 `ㄚㄅ．` 來輸入 `ㄚㆴ`
    - 例如以 `ㄚㄉ．` 來輸入 `ㄚㆵ`
    - 例如以 `ㄚㄍ．` 來輸入 `ㄚㆻ`
- 可直接輸入變調後的聲調，方便思考
  - １變７：例如以 `ㄏㄨㆤ˫ㄑㄧㄚˉ` 來輸入 `ㄏㄨㆤˉㄑㄧㄚˉ`（花車）
  - ２變１：例如以 `ㄏㄨㆤˉㄑㄧㄚˉ` 來輸入 `ㄏㄨㆤˋㄑㄧㄚˉ`（火車）
  - ３變２：例如以 `ㄏㄨㆤˋㄑㄧㄚˉ` 來輸入 `ㄏㄨㆤ˪ㄑㄧㄚˉ`（貨車）
  - ７變３：例如以 `ㄏㄨㆤ˪ㄑㄧㄚˉ` 來輸入 `ㄏㄨㆤ˫ㄑㄧㄚˉ`（會車）
  - ５變３：例如以 `ㄊㄞ˪ㄅㄚㆻ` 來輸入 `ㄊㄞˊㄅㄚㆻ`（台北）
  - ５變７：例如以 `ㄊㄞ˫ㄌㆰˊ` 來輸入 `ㄊㄞˊㄌㆰˊ`（台南）
  - ４變２：例如以 `ㆠㄚˋㄨㄢˊ` 來輸入 `ㆠㄚㆷㄨㄢˊ`（肉丸）
  - ８變３：例如以 `ㄐㄧㄚ˪ㄅㆭ˫` 來輸入 `ㄐㄧㄚㆷ̇ㄅㆭ˫`（食飯）
- 支援下列常見的音變
  - 以 `ㄌ` 來輸入 `ㆢ`、`ㆡ`
  - 以 `ㆣ` 來輸入 `ㆢ`
  - 以 `ㆤㄣ`（en）來輸入 `ㄧㄢ`（ien、ian）
  - 以 `ㆤㆵ`（et）、`ㄧㆤㆵ`（iet）來輸入 `ㄧㄚㆵ`（iat）
- 下列拼音能用注音符號中發音相似的鍵位組合來輸入
  - 以 `ㄨㆭ`（注音 `ㄨㄥ` /ʊŋ/）來輸入 `ㆲ` /ɔŋ/
  - 以 `ㆬㆭ`（注音 `ㄩㄥ` /iʊŋ/）來輸入 `ㄧㆲ` /iɔŋ/
  - 台語存在 `ㄅㆭ`（例如：飯）與 `ㄅㆲ`（例如：磅）的差別，此處不提供相似音輸入（注音 `ㄅㄥ`）以避免歧義
- 支援簡拼，此方法不適合輸入單字
  - 以鼻音鍵 `ｎ` 代表所有鼻化韻母
  - 以入聲鍵 `．` 代表所有「韻母 + 入聲」
  - 只輸入聲母
  - 不輸入聲調（入聲不適用）
  - 只輸入聲母 + 聲調


## 台語字典

本方案字典檔採用的字詞來源為[教育部臺灣閩南語常用詞辭典](https://twblg.dict.edu.tw/)（[資料檔 @ GitHub](https://github.com/g0v/moedict-data-twblg)）。

> 為了方便輸入法方案設計，字典採用特製的拼音（詳見[拼音對照表](./table.md)），大小寫有特殊意義。如有增修字典的需求請多注意。

### 字典檔
- `taigi_yu.dict.yaml`：總字典，包含方音符號輸入，需要搭配其他字典檔
- `taigi_yu.han.dict.yaml`：漢字詞典
- `taigi_yu.tl.dict.yaml`：台羅拼音詞典（暫定）
- `taigi_yu.poj.dict.yaml`：白話字詞典（暫定）

## 未來方向
- 第九調合音詞
  - 例如 tsa̋ng 是 tsa-hng 的合音詞（昨昏）
  - 將第九調與第五調（`ˊ`）合併
  - 添加合音詞字典
- 其他腔調特殊音：`ㆨ`（ir）、`ㄝ`（ee）、`ㄜㆤ`（ere）
  - 改變字典拼音：使某些拼音能對應多種輸入，理想解法
  - 擴充字典：為特殊腔調另外製作字典，不太理想

